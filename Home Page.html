<!doctype html>
<html>
<head>
<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<title>Homepage</title>
<link rel="stylesheet" href="Homepage.css" type="text/css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

	<div class="parent">
		<img src="Images/Dial NOBG 1.png" class="dialImage" onClick="clickButtonFunction()" id="dial">
		<img src="Images/bg.png" class="backgroundImage" id="bgImg">
		<span><a id="buttonLink" href="#"><img src="Images/Circle.png" class="buttonCircle" id="btnC" onClick="submitAnswer()"></a></span>
		<div class="numberParent" id="numParent"> <h1 class="number1" id="numPad"></h1></div>
	</div>
	<div id="clickCounter" class="click"> <p></p></div>
	<div id="counterD"></div>
	<button class="clickButton" onclick="clickReset()">Reset count</button>
	
	<script>
		var linkCheck = document.getElementById("buttonLink")
		var numbers = document.getElementById("numParent");
		var x = ""
		var value = ""
		var newValue = ""
		const string1 = "1&nbsp;2&nbsp;0";
		const string2 = "2&nbsp;2&nbsp;2";
		const string3 = "3&nbsp;6&nbsp;6";
		var numText = document.getElementById("numPad");
		
		
		function clickButtonFunction() {
			console.log('run');
			if (localStorage.getItem("clickCounter") === null) {
				localStorage.setItem("clickCounter", "0");
			}
			value = parseInt(localStorage.getItem("clickCounter"));
			newValue = value + 1
			localStorage.setItem("clickCounter", newValue);
			document.getElementById("clickCounter").innerHTML = newValue
		var myImage = document.getElementById("dial");
		if (newValue == 0) {
		x = "0";
		myImage.style.transform = "rotate(0deg)"
		numText.innerHTML = "12";
		}
		 else if (newValue == 1) {
			x="45";
		myImage.style.transform = "rotate(45deg)"
		numText.innerHTML = "2&nbsp;2&nbsp;2";
		} else if (newValue == 2) {
			x = "90";
		myImage.style.transform = "rotate(90deg)"
		numText.innerHTML = "3&nbsp;6&nbsp;6";
		} else if (newValue == 3) {
			x="135";
		myImage.style.transform = "rotate(135deg)"
		numText.innerHTML = "4&nbsp;1&nbsp;0";
		} else if (newValue == 4) {
			x="180";
		myImage.style.transform = "rotate(180deg)"
		numText.innerHTML = "4&nbsp;9&nbsp;2";
		} else if (newValue == 5) {
			x="225";
		myImage.style.transform = "rotate(225deg)"
		numText.innerHTML = "6&nbsp;1&nbsp;0";
		} else if (newValue == 6) {
			x="270";
		myImage.style.transform = "rotate(270deg)"
		numText.innerHTML = "7&nbsp;3&nbsp;4";
		} else if (newValue == 7) {
			x="315";
		myImage.style.transform = "rotate(315deg)"
		numText.innerHTML = "8&nbsp;1&nbsp;0";
		} else if (newValue == 8) {
			x="360";
		myImage.style.transform = "rotate(360deg)"
		numText.innerHTML = "1&nbsp;2&nbsp;0";
		} 
		else {
				x = "0";
		myImage.style.transform = "rotate(1deg)"
		localStorage.setItem("clickCounter", "0");
		}

		if (numbers.style.color = "red") {
			numbers.style.color = "#d8ff00";
		}
			console.log(x);	
		}

		function submitAnswer() {
			if (x == 225){
				$(linkCheck).attr("href", "PuzzlePage.html");
				y = "yes";
			} else {
				numbers.style.color = "red";
				$(linkCheck).attr("href", "#");
				setTimeout(() => {numbers.style.color = "#d8ff00"; }, 300);
				y = "no";
			}
			console.log(y);
		}
		
		
		
			function clickReset() {
			localStorage.setItem("clickCounter", "0");
			document.getElementById("clickCounter").innerHTML = '0'
			}

	
	</script>

<body>
</body>
</html>
