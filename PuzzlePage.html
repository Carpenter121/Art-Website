<!doctype html>
<html>
<head>
<meta charset="utf-8">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<title>PuzzlePage</title>
<link rel="stylesheet" href="PuzzlePage.css" type="text/css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
	
<div class="bgParent">
	<img src="Images/BG 2.1.png" class="puzzleBG" id="puzzBG">
	<img src="Images/ComboLock1.png" class="comboLockWheels1" id="wheel1" onClick="clickComboDial1()">
	<img src="Images/ComboLock1.png" class="comboLockWheels2" id="wheel2" onClick="clickComboDial2()">
	<img src="Images/ComboLock1.png" class="comboLockWheels3" id="wheel3" onClick="clickComboDial3()">
	<img src="Images/ComboLock1.png" class="comboLockWheels4" id="wheel4" onClick="clickComboDial4()">
	<div id="dialCounter1"></div>
	<div id="dialCounter2"></div>
	<div id="dialCounter3"></div>
	<div id="dialCounter4"></div>
	<a href="#" id="dialLink" onClick="checkComboAnswer()"> <img src="Images/Circle.png" class="confirmCircle" id="confirm"> </a>
	<a href="#" id="ringLink" onClick="checkRingAnswer()"> <img src="Images/Circle.png" class="confirmCircle2" id="confirm2"> </a>
	<a href="#" id="denyLink" onClick="reset()"> <img src="Images/RedCircle.png" class="denyCircle" id="deny"> </a>
	<h1 class="comboLockNumber" id="comboNumber" onClick="test()"> 1000 </h1>
	<img src="Images/Ringlock Ring.png" class="ringLock1" id="ring1">
	<img src="Images/Ringlock Ring.png" class="ringLock2" id="ring2">
	<img src="Images/Ringlock Ring.png" class="ringLock3" id="ring3">
	<img src="Images/Ringlock Ring.png" class="ringLock4" id="ring4">
	<img src="Images/Ringlock Ring.png" class="ringLock5" id="ring5">
	<img src="Images/Button 1.png" class="button1" id="btn1" onClick="rotateRing1()">
	<img src="Images/Button 2.png" class="button2" id="btn2" onClick="rotateRing2()">
	<img src="Images/Button 3.png" class="button3" id="btn3" onClick="rotateRing3()">
	<img src="Images/Button 4.png" class="button4" id="btn4" onClick="rotateRing4()">
	<img src="Images/Button 5.png" class="button5" id="btn5" onClick="rotateRing5()">
	<div id="rotate1"></div>
	<div id="rotate2"></div>
	<div id="rotate3"></div>
	<div id="rotate4"></div>
	<div id="rotate5"></div>
</div>
	
	<script>
		var value = "";
		var newValue = "";
		var value2 = "";
		var newValue2 = "";
		var value3 = "";
		var newValue3 = "";
		var value4 = "";
		var newValue4 = "";
		var rvalue = "";
		var rnewValue = "";
		var rvalue2 = "";
		var rnewValue2 = "";
		var rvalue3 = "";
		var rnewValue3 = "";
		var rvalue4 = "";
		var rnewValue4 = "";
		var rvalue5 = "";
		var rnewValue5 = "";
		var x = "";
		var y = "";
		var z = "";
		var a = "";
		var b = "";
		var c = "";
		var d = "";
		var e = "";
		var f = "";
		var g = "";
		var h = "";
		var answerCheck = x + y + z + a;
		var dialImage1 = document.getElementById("wheel1");
		var dialImage2 = document.getElementById("wheel2");
		var dialImage3 = document.getElementById("wheel3");
		var dialImage4 = document.getElementById("wheel4");
		var dialLink = document.getElementById("dialLink");
		var baseNum1 = "";
		var baseNum2 = "";
		var baseNum3 = "";
		var baseNum4 = "";
		var realNumber = ""
		var keypadDisplay = document.getElementById("comboNumber");
		var ringButton1 = document.getElementById("ring1");
		var ringButton2 = document.getElementById("ring2");
		var ringButton3 = document.getElementById("ring3");
		var ringButton4 = document.getElementById("ring4");
		var ringButton5 = document.getElementById("ring5");
		
		
		function clickComboDial1() {
			console.log('run');
			if (localStorage.getItem("dialCounter1") === null) {
				localStorage.setItem("dialCounter1", "0");
			}
			value = parseInt(localStorage.getItem("dialCounter1"));
			newValue = value + 1
			localStorage.setItem("dialCounter1", newValue);
			document.getElementById("dialCounter1").innerHTML = newValue;
			
			if (newValue == 0){
				x = "0";
				$(dialImage1).attr("src", "Images/ComboLock1.png");
			} else if (newValue == 1){
				x = "1";
				$(dialImage1).attr("src", "Images/ComboLock2.png");
			} else if (newValue == 2){
				x = "2";
				$(dialImage1).attr("src", "Images/ComboLock3.png");
			} else if (newValue == 3){
				x = "3";
				$(dialImage1).attr("src", "Images/ComboLock4.png");
			} else if (newValue == 4){
				x = "4";
				$(dialImage1).attr("src", "Images/ComboLock5.png");
			} else if (newValue == 5){
				x = "5";
				$(dialImage1).attr("src", "Images/ComboLock6.png");
			} else if (newValue == 6){
				x = "6";
				$(dialImage1).attr("src", "Images/ComboLock7.png");
			} else if (newValue == 7){
				x = "7";
				$(dialImage1).attr("src", "Images/ComboLock8.png");
			} else if (newValue == 8){
				x = "8";
				$(dialImage1).attr("src", "Images/ComboLock9.png");
			}  else {
				x = "0"
				$(dialImage1).attr("src", "Images/ComboLock1.png");
				localStorage.setItem("dialCounter1", "0");
			}
			console.log(x);
			baseNum1 = (x * 1000);
			realNumber = (`${baseNum1 + baseNum2 + baseNum3 + baseNum4}`);
			keypadDisplay.innerHTML = realNumber;
		}
		
		
		function clickComboDial2() {
			console.log('run');
			if (localStorage.getItem("dialCounter2") === null) {
				localStorage.setItem("dialCounter2", "0");
			}
			value2 = parseInt(localStorage.getItem("dialCounter2"));
			newValue2 = value2 + 1
			localStorage.setItem("dialCounter2", newValue2);
			document.getElementById("dialCounter2").innerHTML = newValue2;
			
			if (newValue2 == 0){
				y = "0";
				$(dialImage2).attr("src", "Images/ComboLock1.png");
			} else if (newValue2 == 1){
				y = "1";
				$(dialImage2).attr("src", "Images/ComboLock2.png");
			} else if (newValue2 == 2){
				y = "2";
				$(dialImage2).attr("src", "Images/ComboLock3.png");
			} else if (newValue2 == 3){
				y = "3";
				$(dialImage2).attr("src", "Images/ComboLock4.png");
			} else if (newValue2 == 4){
				y = "4";
				$(dialImage2).attr("src", "Images/ComboLock5.png");
			} else if (newValue2 == 5){
				y = "5";
				$(dialImage2).attr("src", "Images/ComboLock6.png");
			} else if (newValue2 == 6){
				y = "6";
				$(dialImage2).attr("src", "Images/ComboLock7.png");
			} else if (newValue2 == 7){
				y = "7";
				$(dialImage2).attr("src", "Images/ComboLock8.png");
			} else if (newValue2 == 8){
				y = "8";
				$(dialImage2).attr("src", "Images/ComboLock9.png");
			} else {
				y = "0"
				$(dialImage2).attr("src", "Images/ComboLock1.png");
				localStorage.setItem("dialCounter2", "0");
			}
			console.log(y);
			baseNum2 = (y * 100);
			realNumber = (baseNum1 + baseNum2 + baseNum3 + baseNum4);
			keypadDisplay.innerHTML = realNumber;
		}
		
		function clickComboDial3() {
			console.log('run');
			if (localStorage.getItem("dialCounter3") === null) {
				localStorage.setItem("dialCounter3", "0");
			}
			value3 = parseInt(localStorage.getItem("dialCounter3"));
			newValue3 = value3 + 1
			localStorage.setItem("dialCounter3", newValue3);
			document.getElementById("dialCounter3").innerHTML = newValue3;
			
			if (newValue3 == 0){
				z = "0";
				$(dialImage2).attr("src", "Images/ComboLock1.png");
			} else if (newValue3 == 1){
				z = "1";
				$(dialImage3).attr("src", "Images/ComboLock2.png");
			} else if (newValue3 == 2){
				z = "2";
				$(dialImage3).attr("src", "Images/ComboLock3.png");
			} else if (newValue3 == 3){
				z = "3";
				$(dialImage3).attr("src", "Images/ComboLock4.png");
			} else if (newValue3 == 4){
				z = "4";
				$(dialImage3).attr("src", "Images/ComboLock5.png");
			} else if (newValue3 == 5){
				z = "5";
				$(dialImage3).attr("src", "Images/ComboLock6.png");
			} else if (newValue3 == 6){
				z = "6";
				$(dialImage3).attr("src", "Images/ComboLock7.png");
			} else if (newValue3 == 7){
				z = "7";
				$(dialImage3).attr("src", "Images/ComboLock8.png");
			} else if (newValue3 == 8){
				z = "8";
				$(dialImage3).attr("src", "Images/ComboLock9.png");
			} else {
				z = "0"
				$(dialImage3).attr("src", "Images/ComboLock1.png");
				localStorage.setItem("dialCounter3", "0");
			}
			console.log(z);
			baseNum3 = (z * 10);
			realNumber = (baseNum1 + baseNum2 + baseNum3 + baseNum4);
			keypadDisplay.innerHTML = realNumber;
		}
		
		function clickComboDial4() {
			console.log('run');
			if (localStorage.getItem("dialCounter4") === null) {
				localStorage.setItem("dialCounter4", "0");
			}
			value4 = parseInt(localStorage.getItem("dialCounter4"));
			newValue4 = value4 + 1
			localStorage.setItem("dialCounter4", newValue4);
			document.getElementById("dialCounter4").innerHTML = newValue4;
			
			if (newValue4 == 0){
				a = "0";
				$(dialImage4).attr("src", "Images/ComboLock1.png");
			} else if (newValue4 == 1){
				a = "1";
				$(dialImage4).attr("src", "Images/ComboLock2.png");
			} else if (newValue4 == 2){
				a = "2";
				$(dialImage4).attr("src", "Images/ComboLock3.png");
			} else if (newValue4 == 3){
				a = "3";
				$(dialImage4).attr("src", "Images/ComboLock4.png");
			} else if (newValue4 == 4){
				a = "4";
				$(dialImage4).attr("src", "Images/ComboLock5.png");
			} else if (newValue4 == 5){
				a = "5";
				$(dialImage4).attr("src", "Images/ComboLock6.png");
			} else if (newValue4 == 6){
				a = "6";
				$(dialImage4).attr("src", "Images/ComboLock7.png");
			} else if (newValue4 == 7){
				a = "7";
				$(dialImage4).attr("src", "Images/ComboLock8.png");
			} else if (newValue4 == 8){
				a = "8";
				$(dialImage4).attr("src", "Images/ComboLock9.png");
			} else {
				a = "0"
				$(dialImage4).attr("src", "Images/ComboLock1.png");
				localStorage.setItem("dialCounter4", "0");
			}
			console.log(a);
			baseNum4 = (a * 1);
			realNumber = (baseNum1 + baseNum2 + baseNum3 + baseNum4);
			keypadDisplay.innerHTML = realNumber;
		}
		
		function checkComboAnswer () {
			if ( x == 2 && y == 0 && z == 4 && a == 5) {
				$(dialLink).attr("href", "ExcerciseList.html");
				b = "true";
			} else {
				b = "false";
				comboNumber.style.color = "red";
				$(dialLink).attr("href", "#");
				setTimeout(() => {comboNumber.style.color = "#00891a"; }, 300);
			}
			console.log(b);
		}
		
		function reset() {
			x = "0";
			y = "0";
			z = "0";
			a = "0";
			localStorage.clear();
			keypadDisplay.innerHTML = 1000;
			comboNumber.style.color = "blue";
				$(dialLink).attr("href", "#");
				setTimeout(() => {comboNumber.style.color = "#00891a"; }, 300);
		}
		
		function rotateRing1() {
			console.log('run');
			if (localStorage.getItem("rotate1") === null) {
				localStorage.setItem("rotate1", "0");
			}
			rvalue = parseInt(localStorage.getItem("rotate1"));
			rnewValue = rvalue + 1
			localStorage.setItem("rotate1", rnewValue);
			document.getElementById("rotate1").innerHTML = rnewValue;
			
			if (rnewValue == 0) {
				ringButton1.style.transform = "rotate(0deg)";
				c = "0";
			} else if (rnewValue == 1) {
				ringButton1.style.transform = "rotate(45deg)";
				c = "1";
			} else if (rnewValue == 2) {
				ringButton1.style.transform = "rotate(90deg)";
				c = "2";
			} else if (rnewValue == 3) {
				ringButton1.style.transform = "rotate(135deg)";
				c = "3";
			} else if (rnewValue == 4) {
				ringButton1.style.transform = "rotate(180deg)";
				c = "4";
			} else if (rnewValue == 5) {
				ringButton1.style.transform = "rotate(225deg)";
				c = "5";
			} else if (rnewValue == 6) {
				ringButton1.style.transform = "rotate(270deg)";
				c = "6";
			} else if (rnewValue == 7) {
				ringButton1.style.transform = "rotate(315deg)";
				c = "7";
			} else {
				ringButton1.style.transform = "rotate(0deg)";
				c = "0";
				localStorage.setItem("rotate1", "0")
			}
			console.log(c);
		}
		
		function rotateRing2() {
			console.log('run');
			if (localStorage.getItem("rotate2") === null) {
				localStorage.setItem("rotate2", "0");
			}
			rvalue2 = parseInt(localStorage.getItem("rotate2"));
			rnewValue2 = rvalue2 + 1
			localStorage.setItem("rotate2", rnewValue2);
			document.getElementById("rotate2").innerHTML = rnewValue2;
			
			if (rnewValue2 == 0) {
				ringButton2.style.transform = "rotate(90deg)";
				d = "2";
			} else if (rnewValue2 == 1) {
				ringButton2.style.transform = "rotate(135deg)";
				d = "3";
			} else if (rnewValue2 == 2) {
				ringButton2.style.transform = "rotate(180deg)";
				d = "4";
			} else if (rnewValue2 == 3) {
				ringButton2.style.transform = "rotate(225deg)";
				d = "5";
			} else if (rnewValue2 == 4) {
				ringButton2.style.transform = "rotate(270deg)";
				d = "6";
			} else if (rnewValue2 == 5) {
				ringButton2.style.transform = "rotate(315deg)";
				d = "7";
			} else if (rnewValue2 == 6) {
				ringButton2.style.transform = "rotate(360deg)";
				d = "0";
			} else if (rnewValue2 == 7) {
				ringButton2.style.transform = "rotate(45deg)";
				d = "1";
			} else {
				ringButton2.style.transform = "rotate(90deg)";
				d = "2";
				localStorage.setItem("rotate2", "0")
			}
			console.log(d);
		}
		
		function rotateRing3() {
			console.log('run');
			if (localStorage.getItem("rotate3") === null) {
				localStorage.setItem("rotate3", "0");
			}
			rvalue3 = parseInt(localStorage.getItem("rotate3"));
			rnewValue3 = rvalue3 + 1
			localStorage.setItem("rotate3", rnewValue3);
			document.getElementById("rotate3").innerHTML = rnewValue3;
			
			if (rnewValue3 == 0) {
				ringButton3.style.transform = "rotate(45deg)";
				e = "1";
			} else if (rnewValue3 == 1) {
				ringButton3.style.transform = "rotate(90deg)";
				e = "2";
			} else if (rnewValue3 == 2) {
				ringButton3.style.transform = "rotate(135deg)";
				e = "3";
			} else if (rnewValue3 == 3) {
				ringButton3.style.transform = "rotate(180deg)";
				e = "4";
			} else if (rnewValue3 == 4) {
				ringButton3.style.transform = "rotate(225deg)";
				e = "5";
			} else if (rnewValue3 == 5) {
				ringButton3.style.transform = "rotate(270deg)";
				e = "6";
			} else if (rnewValue3 == 6) {
				ringButton3.style.transform = "rotate(315deg)";
				e = "7";
			} else if (rnewValue3 == 7) {
				ringButton3.style.transform = "rotate(360deg)";
				e = "0";
			} else {
				ringButton3.style.transform = "rotate(45deg)";
				e = "1";
				localStorage.setItem("rotate3", "0")
			}
			console.log(e);
		}
		
		function rotateRing4() {
			console.log('run');
			if (localStorage.getItem("rotate4") === null) {
				localStorage.setItem("rotate4", "0");
			}
			rvalue4 = parseInt(localStorage.getItem("rotate4"));
			rnewValue4 = rvalue4 + 1
			localStorage.setItem("rotate4", rnewValue4);
			document.getElementById("rotate4").innerHTML = rnewValue4;
			
			if (rnewValue4 == 0) {
				ringButton4.style.transform = "rotate(135deg)";
				f = "3";
			} else if (rnewValue4 == 1) {
				ringButton4.style.transform = "rotate(180deg)";
				f = "4";
			} else if (rnewValue4 == 2) {
				ringButton4.style.transform = "rotate(225deg)";
				f = "5";
			} else if (rnewValue4 == 3) {
				ringButton4.style.transform = "rotate(270deg)";
				f = "6";
			} else if (rnewValue4 == 4) {
				ringButton4.style.transform = "rotate(315deg)";
				f = "7";
			} else if (rnewValue4 == 5) {
				ringButton4.style.transform = "rotate(360deg)";
				f = "0";
			} else if (rnewValue4 == 6) {
				ringButton4.style.transform = "rotate(45deg)";
				f = "1";
			} else if (rnewValue4 == 7) {
				ringButton4.style.transform = "rotate(90deg)";
				f = "2";
			} else {
				ringButton4.style.transform = "rotate(135deg)";
				f = "3";
				localStorage.setItem("rotate4", "0")
			}
			console.log(f);
		}
		
		function rotateRing5() {
			console.log('run');
			if (localStorage.getItem("rotate3") === null) {
				localStorage.setItem("rotate3", "0");
			}
			rvalue5 = parseInt(localStorage.getItem("rotate5"));
			rnewValue5 = rvalue5 + 1
			localStorage.setItem("rotate5", rnewValue5);
			document.getElementById("rotate5").innerHTML = rnewValue5;
			
			if (rnewValue5 == 0) {
				ringButton5.style.transform = "rotate(225deg)";
				g = "5";
			} else if (rnewValue5 == 1) {
				ringButton5.style.transform = "rotate(270deg)";
				g = "6";
			} else if (rnewValue5 == 2) {
				ringButton5.style.transform = "rotate(315deg)";
				g = "7";
			} else if (rnewValue5 == 3) {
				ringButton5.style.transform = "rotate(360deg)";
				g = "0";
			} else if (rnewValue5 == 4) {
				ringButton5.style.transform = "rotate(45deg)";
				g = "1";
			} else if (rnewValue5 == 5) {
				ringButton5.style.transform = "rotate(90deg)";
				g = "2";
			} else if (rnewValue5 == 6) {
				ringButton5.style.transform = "rotate(135deg)";
				g = "3";
			} else if (rnewValue5 == 7) {
				ringButton5.style.transform = "rotate(180deg)";
				g = "4";
			} else {
				ringButton5.style.transform = "rotate(225deg)";
				g = "5";
				localStorage.setItem("rotate5", "0")
			}
			console.log(g);
		}
		
		function checkRingAnswer() {
			if ( c == d && e == f && f == g) {
				$(ringLink).attr("href", "Weeklies List.html");
				h = "true";
			} else {
				h = "false";
				$(ringLink).attr("href", "#");
			}
			console.log(h);
		}
		
		
		
		
	
	</script>

<body>
</body>
</html>
